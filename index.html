<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title> Doom Aerial Invasion </title>
	<style>
		@font-face {
			font-family: 'mortis';
			src: url('mortis.ttf');
		}
		@font-face {
			font-family: 'DooM';
			src: url('DooM.ttf');
		}
		body{
			padding: 0px;
			margin: 0px;
			background: black;
		}
		canvas{
			border:0px solid #000000;
			background-color: #000000;
		}
		#preloadedImages {
			width: 0px;
			height: 0px;
			display: inline;
		}
	</style>
</head>
<body onresize='resizeGame()'>
	<script src='doom.js'></script>
	<script>
		var js_resource = ["games/afrit/attack1.png",
"games/afrit/attack2.png",
"games/afrit/death.png",
"games/afrit/fexp.png",
"games/afrit/fireball.png",
"games/afrit/fireball2.png",
"games/afrit/idle.png",
"games/afrit/idleL.png",
"games/afrit/pain.png",
"games/card/attack1.png",
"games/card/attack2.png",
"games/card/death.png",
"games/card/idle.png",
"games/card/idleL.png",
"games/card/idleR.png",
"games/card/pain.png",
"games/dropship.png",
"games/explode.png",
"games/fatso/attack.png",
"games/fatso/attack2.png",
"games/fatso/attack3.png",
"games/fatso/ball.png",
"games/fatso/death.png",
"games/fatso/exp.png",
"games/fatso/idle.png",
"games/fatso/idleL.png",
"games/fatso/pain.png",
"games/floor1.png",
"games/floor2.png",
"games/GRY_44D.png",
"games/head/attack.png",
"games/head/attack2.png",
"games/head/ball.png",
"games/head/ballexp.png",
"games/head/death.png",
"games/head/fireball.png",
"games/head/idle.png",
"games/head/idleL.png",
"games/head/pain.png",
"games/help.png",
"games/hitler/attack.png",
"games/hitler/attack2.png",
"games/hitler/death.png",
"games/hitler/death2.png",
"games/hitler/fall.png",
"games/hitler/idle.png",
"games/hitler/idleL.png",
"games/hud/STFDEAD0.png",
"games/hud/STFKIL00.png",
"games/hud/STFKIL01.png",
"games/hud/STFKIL02.png",
"games/hud/STFKIL10.png",
"games/hud/STFKIL11.png",
"games/hud/STFKIL12.png",
"games/hud/STFKIL20.png",
"games/hud/STFKIL21.png",
"games/hud/STFKIL22.png",
"games/hud/STFKIL30.png",
"games/hud/STFKIL31.png",
"games/hud/STFKIL32.png",
"games/hud/STFKIL40.png",
"games/hud/STFKIL41.png",
"games/hud/STFKIL42.png",
"games/hud/STFOUCH0.png",
"games/hud/STFST00.png",
"games/hud/STFST01.png",
"games/hud/STFST02.png",
"games/hud/STFST10.png",
"games/hud/STFST11.png",
"games/hud/STFST12.png",
"games/hud/STFST20.png",
"games/hud/STFST21.png",
"games/hud/STFST22.png",
"games/hud/STFST30.png",
"games/hud/STFST31.png",
"games/hud/STFST32.png",
"games/hud/STFST40.png",
"games/hud/STFST41.png",
"games/hud/STFST42.png",
"games/inferno/attack.png",
"games/inferno/attack1.png",
"games/inferno/death116x98.png",
"games/inferno/idle.png",
"games/inferno/idleL.png",
"games/inferno/pain.png",
"games/inferno/vore.png",
"games/inferno/voreexp.png",
"games/items/AMMOA0.png",
"games/items/ARM1A0.png",
"games/items/ARM2A0.png",
"games/items/BPAKA0.png",
"games/items/BROKA0.png",
"games/items/CELPA0.png",
"games/items/DCELL.png",
"games/items/MEDIA0.png",
"games/items/MEGAA0.png",
"games/items/SBOXA0.png",
"games/items/SOULA0.png",
"games/logo.png",
"games/map.png",
"games/map_overlay1.png",
"games/map_overlay2.png",
"games/map_overlay3.png",
"games/map_overlay4.png",
"games/master/attack1.png",
"games/master/attack2.png",
"games/master/death197x105.png",
"games/master/idle.png",
"games/master/idleL.png",
"games/master/pain.png",
"games/menu/AutoShotgun.png",
"games/floor3.png",
"games/menu/BFG9000.png",
"games/menu/BFG9000MKII.png",
"games/menu/Chaingun.png",
"games/menu/Eightball.png",
"games/menu/Minigun.png",
"games/menu/Pistol.png",
"games/menu/PlasmaRifle.png",
"games/menu/player.png",
"games/menu/QuadShotgun.png",
"games/menu/Railgun.png",
"games/menu/repeater.png",
"games/menu/RocketLauncher.png",
"games/menu/Shotgun.png",
"games/menu/SuperShotgun.png",
"games/menu/WISPLAT.png",
"games/M_NGAME.png",
"games/M_NGAME2.png",
"games/M_OPTION.png",
"games/M_RANK.png",
"games/M_READ.png",
"games/M_SKULL.png",
"games/null.png",
"games/pain/attack1.png",
"games/pain/attack2.png",
"games/pain/death.png",
"games/pain/idle.png",
"games/pain/idleL.png",
"games/pain/pain.png",
"games/pain2/ATTACK1.png",
"games/pain2/ATTACK2.png",
"games/pain2/DEATH.png",
"games/pain2/IDLE.png",
"games/pain2/IDLEL.png",
"games/pain2/IDLER.png",
"games/pain2/PAIN.png",
"games/player/AutoShotgun.png",
"games/player/BFG10K.png",
"games/player/BFG9000.png",
"games/player/BFG9000MKII.png",
"games/player/bfgball.png",
"games/player/bfgx.png",
"games/player/bfgx0.png",
"games/player/bfgx2.png",
"games/player/Chaingun.png",
"games/player/death.png",
"games/player/Eightball.png",
"games/player/fire.png",
"games/player/fire2.png",
"games/player/idle.png",
"games/player/laser.png",
"games/player/Minigun.png",
"games/player/misxa7a3.png",
"games/player/pain.png",
"games/player/Pistol.png",
"games/player/plasma.png",
"games/player/PlasmaRifle.png",
"games/player/plexp.png",
"games/player/QuadShotgun.png",
"games/player/Railgun.png",
"games/player/railshot.png",
"games/player/Repeater.png",
"games/player/rocket.png",
"games/player/RocketLauncher.png",
"games/player/Shotgun.png",
"games/player/SuperShotgun.png",
"games/player/tracer.png",
"games/player/tracer2.png",
"games/powerups/envirosuit.png",
"games/powerups/guardItem.png",
"games/powerups/haste.png",
"games/powerups/hasteItem.png",
"games/powerups/quad.png",
"games/powerups/quadItem.png",
"games/powerups/regen.png",
"games/powerups/regenItem.png",
"games/queen/attack.png",
"games/queen/attack1.png",
"games/queen/death.png",
"games/queen/idle.png",
"games/queen/idleL.png",
"games/queen/pain.png",
"games/queen/queenball.png",
"games/RSKY1.png",
"games/RSKY2.png",
"games/SKY2MO.png",
"games/SKY2YELO.png",
"games/SKY3.png",
"games/SKY4.png",
"games/SKYML1.png",
"games/SKYML6.png",
"games/SKYML7.png",
"games/soul/attack.png",
"games/soul/death.png",
"games/soul/idle.png",
"games/soul/idleL.png",
"games/soul/pain.png",
"games/soul2/attack.png",
"games/soul2/death.png",
"games/soul2/idle.png",
"games/soul2/IdleL.png",
"games/soul2/pain.png",
"games/spider/attack.png",
"games/spider/attack1.png",
"games/spider/attack2.png",
"games/spider/attack3.png",
"games/spider/attack4.png",
"games/spider/death99x58.png",
"games/spider/idle.png",
"games/spider/idleL.png",
"games/spider/pain.png",
"games/term/Attack.png",
"games/term/Attack2.png",
"games/term/Attack4.png",
"games/term/Attack5.png",
"games/term/death83x81.png",
"games/term/devball.png",
"games/term/idle.png",
"games/term/idleL.png",
"games/term/idleR.png",
"games/term/laser.png",
"games/term/pain.png"]

		function preloadImages(urls, allImagesLoadedCallback){
			var loadedCounter = 0;
			var toBeLoadedNumber = urls.length;
			urls.forEach(function(url){
				preloadImage(url, function(){
					loadedCounter++;
					document.getElementById("progress").innerHTML = loadedCounter + ' / ' + toBeLoadedNumber;
					console.log('Number of loaded images: ' + loadedCounter);
					if(loadedCounter == toBeLoadedNumber){
						allImagesLoadedCallback();
					}
				});
			});
			function preloadImage(url, anImageLoadedCallback){
				var img = new Image();
				img.src = url;
				img.onload = anImageLoadedCallback;
			}
		}

		preloadImages(js_resource, function(){
			document.getElementById("progress").style.display = 'none';
			startGame();;
		});
	</script>
	<div id="progress" class="progress" style="color:#FF0000">0 / 100</div>
</body>
